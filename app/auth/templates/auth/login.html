{% extends "base.html" %}
{% block content %}
  <main style="padding:1rem;">
    <h1>Login</h1>

    {# base.html has no flash area, so show flashes here #}
    {% with messages = get_flashed_messages(with_categories=true) %}
      {% if messages %}
        <div style="margin:.75rem 0;">
          {% for cat, msg in messages %}
            <div style="background:#ffffff22;padding:.5rem .75rem;border-radius:.5rem;margin:.35rem 0;">
              {{ msg }}
            </div>
          {% endfor %}
        </div>
      {% endif %}
    {% endwith %}

    <form method="POST" novalidate>
      {{ form.hidden_tag() }}

      <div style="margin:.5rem 0;">
        {{ form.username.label }}<br>
        {{ form.username(size=32) }}
        {% for err in form.username.errors %}
          <div style="color:#ffd1d1;">{{ err }}</div>
        {% endfor %}
      </div>

      <div style="margin:.5rem 0;">
        {{ form.password.label }}<br>
        {{ form.password(size=32) }}
        {% for err in form.password.errors %}
          <div style="color:#ffd1d1;">{{ err }}</div>
        {% endfor %}
      </div>

      <div style="margin:.5rem 0;">
        <label>{{ form.remember_me() }} {{ form.remember_me.label.text }}</label>
      </div>

      <div style="margin:.75rem 0;">
        {{ form.submit() }}
      </div>
    </form>
  </main>
{% endblock %}